<div class="container">

    <nav class="navbar navbar-default">
        <div class="navbar-brand" style="width: 100%" translate>Mes commandes</div>
    </nav>


    <!-- ORDERS WAITING> -->
    <h2 translate>Commande en attente</h2>
    <div class="row" style="font-weight:bold">
        <div class="col col-xs-1" translate>#</div>
        <div class="col col-xs-2" translate>Date de commande</div>
        <div class="col col-xs-2" translate>Date de livraison</div>
        <div class="col col-xs-3" translate>Adresse de livraison</div>
        <div class="col col-xs-3" translate>Status</div>
    </div>
    <div style="font-weight:bold; border-bottom:solid 2px #DDD;padding-bottom:10px;margin-bottom:10px">
    </div>
    <div ng-repeat="order in orders_waiting">
        <div class="row">
            <div class="col col-xs-1" >{{order.number}}</div>
            <div class="col col-xs-2" >{{order.created_date | date:"MM/dd/yyyy hh:mm"}}</div>
            <div class="col col-xs-2" >{{order.date | date : "MM/dd/yyyy hh:mm"}}</div>
			<div class="col col-xs-3">{{order.address.address}}<br>{{order.address.city}}, {{order.address.zipcode}}, {{order.address.country.name}}</div>
            
            <div class="dropdown col col-xs-3">
                <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown">
                    {{order.state.name}}
                    <span class="caret"></span>
                </button>
                <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1">
                    <li class="clickable"><a ng-click="changeState(order.id, 1)">En attente</a></li>
                    <li class="clickable"><a ng-click="changeState(order.id, 2)">En préparation</a></li>
                    <li class="clickable"><a ng-click="changeState(order.id, 3)">Prête</a></li>
                </ul>
            </div>
            
            <div class="col col-xs-1 clickable" ng-click="isNotCollapsed = !isNotCollapsed"><span class="glyphicon" ng-class="(isNotCollapsed) ? 'glyphicon-chevron-up' : 'glyphicon-chevron-down'"></span></div>
            
        </div>
        
        <div collapse="!isNotCollapsed">
            <div style="font-weight:bold; border-bottom:dashed 1px #DDD;padding-bottom:10px;margin-bottom:10px"></div>
            <div>
                <div class="row" style="font-weight:bold;">
                    <div class="col col-xs-3" translate>Nom</div>
                    <div class="col col-xs-6" translate>Description</div>
                    <div class="col col-xs-2" translate>Prix</div>
                    <div class="col col-xs-1" translate>Quantité</div>
                </div>
                <div class="row" ng-repeat="lo in order.lines_orders">
                    <div class="col col-xs-3" >{{lo.dish.name}}</div>
                    <div class="col col-xs-6" >{{lo.dish.description}}</div>
                    <div class="col col-xs-2" >{{lo.dish.price}}</div>
                    <div class="col col-xs-1" >{{lo.quantity}}</div>
                </div>
            </div>
        </div>
        
        <div style="font-weight:bold; border-bottom:solid 1px #DDD;padding-bottom:10px;margin-bottom:10px"></div>
    </div>


    <!-- ORDERS PREPARATION -->
    <h2 translate>Commande en préparation</h2>
    <div class="row" style="font-weight:bold">
        <div class="col col-xs-1" translate>#</div>
        <div class="col col-xs-2" translate>Date de commande</div>
        <div class="col col-xs-2" translate>Date de livraison</div>
        <div class="col col-xs-3" translate>Adresse de livraison</div>
        <div class="col col-xs-3" translate>Status</div>
    </div>
    <div style="font-weight:bold; border-bottom:solid 2px #DDD;padding-bottom:10px;margin-bottom:10px">
    </div>
    <div ng-repeat="order in orders_preparation">
        <div class="row">
            <div class="col col-xs-1" >{{order.number}}</div>
            <div class="col col-xs-2" >{{order.created_date | date:"MM/dd/yyyy hh:mm"}}</div>
            <div class="col col-xs-2" >{{order.date | date : "MM/dd/yyyy hh:mm"}}</div>
			<div class="col col-xs-3">{{order.address.address}}<br>{{order.address.city}}, {{order.address.zipcode}}, {{order.address.country.name}}</div>
            
            <div class="dropdown col col-xs-3">
                <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown">
                    {{order.state.name}}
                    <span class="caret"></span>
                </button>
                <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1">
                    <li class="clickable"><a ng-click="changeState(order.id, 1)">En attente</a></li>
                    <li class="clickable"><a ng-click="changeState(order.id, 2)">En préparation</a></li>
                    <li class="clickable"><a ng-click="changeState(order.id, 3)">Prête</a></li>
                </ul>
            </div>
            
            <div class="col col-xs-1 clickable" ng-click="isNotCollapsed = !isNotCollapsed"><span class="glyphicon" ng-class="(isNotCollapsed) ? 'glyphicon-chevron-up' : 'glyphicon-chevron-down'"></span></div>
            
        </div>
        
        <div collapse="!isNotCollapsed">
            <div style="font-weight:bold; border-bottom:dashed 1px #DDD;padding-bottom:10px;margin-bottom:10px"></div>
            <div>
                <div class="row" style="font-weight:bold;">
                    <div class="col col-xs-3" translate>Nom</div>
                    <div class="col col-xs-6" translate>Description</div>
                    <div class="col col-xs-2" translate>Prix</div>
                    <div class="col col-xs-1" translate>Quantité</div>
                </div>
                <div class="row" ng-repeat="lo in order.lines_orders">
                    <div class="col col-xs-3" >{{lo.dish.name}}</div>
                    <div class="col col-xs-6" >{{lo.dish.description}}</div>
                    <div class="col col-xs-2" >{{lo.dish.price}}</div>
                    <div class="col col-xs-1" >{{lo.quantity}}</div>
                </div>
            </div>
        </div>
        
        <div style="font-weight:bold; border-bottom:solid 1px #DDD;padding-bottom:10px;margin-bottom:10px"></div>
    </div>


    <!-- ORDERS READY -->
    <h2 translate>Commande prête</h2>
    <div class="row" style="font-weight:bold">
        <div class="col col-xs-1" translate>#</div>
        <div class="col col-xs-2" translate>Date de commande</div>
        <div class="col col-xs-2" translate>Date de livraison</div>
        <div class="col col-xs-3" translate>Adresse de livraison</div>
        <div class="col col-xs-3" translate>Status</div>
    </div>
    <div style="font-weight:bold; border-bottom:solid 2px #DDD;padding-bottom:10px;margin-bottom:10px">
    </div>
    <div ng-repeat="order in orders_ready">
        <div class="row">
            <div class="col col-xs-1" >{{order.number}}</div>
            <div class="col col-xs-2" >{{order.created_date | date:"MM/dd/yyyy hh:mm"}}</div>
            <div class="col col-xs-2" >{{order.date | date : "MM/dd/yyyy hh:mm"}}</div>
			<div class="col col-xs-3">{{order.address.address}}<br>{{order.address.city}}, {{order.address.zipcode}}, {{order.address.country.name}}</div>
            
            <div class="dropdown col col-xs-3">
                <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown">
                    {{order.state.name}}
                    <span class="caret"></span>
                </button>
                <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1">
                    <li class="clickable"><a ng-click="changeState(order.id, 1)">En attente</a></li>
                    <li class="clickable"><a ng-click="changeState(order.id, 2)">En préparation</a></li>
                    <li class="clickable"><a ng-click="changeState(order.id, 3)">Prête</a></li>
                </ul>
            </div>
            
            <div class="col col-xs-1 clickable" ng-click="isNotCollapsed = !isNotCollapsed"><span class="glyphicon" ng-class="(isNotCollapsed) ? 'glyphicon-chevron-up' : 'glyphicon-chevron-down'"></span></div>
            
        </div>
        
        <div collapse="!isNotCollapsed">
            <div style="font-weight:bold; border-bottom:dashed 1px #DDD;padding-bottom:10px;margin-bottom:10px"></div>
            <div>
                <div class="row" style="font-weight:bold;">
                    <div class="col col-xs-3" translate>Nom</div>
                    <div class="col col-xs-6" translate>Description</div>
                    <div class="col col-xs-2" translate>Prix</div>
                    <div class="col col-xs-1" translate>Quantité</div>
                </div>
                <div class="row" ng-repeat="lo in order.lines_orders">
                    <div class="col col-xs-3" >{{lo.dish.name}}</div>
                    <div class="col col-xs-6" >{{lo.dish.description}}</div>
                    <div class="col col-xs-2" >{{lo.dish.price}}</div>
                    <div class="col col-xs-1" >{{lo.quantity}}</div>
                </div>
            </div>
        </div>
        
        <div style="font-weight:bold; border-bottom:solid 1px #DDD;padding-bottom:10px;margin-bottom:10px"></div>
    </div>

</div>